<script id='parameter'>
{
"expressions":{
    "triWave().js":{
    },

    "sawWave().js":{
        }
    },

"title":"ä¸€ä¸ªè·Ÿsinå‡½æ•°å·®ä¸å¤šçš„ä¸œè¥¿ï¼Œ",
"description":"è·Ÿ loopOut çš„ circle å’Œ pingpong ï¼Œå¾ˆåƒ"
}
</script>

# è·Ÿ sin å‡½æ•°å·®ä¸å¤šï¼Œä¸è¿‡ä¸€ç‚¹éƒ½ä¸å¼¯ ğŸ¤ª </br><sub>â€”â€”ä¸‰è§’æ³¢ä¸é”¯é½¿æ³¢</sub>

<video width="100%"  controls="controls" autoplay="autoplay" loop="loop"  muted src="../orginalExpressions/video/triWaveAndSawWave_0.mp4" >
<source src="../orginalExpressions/video/triWaveAndSawWave_0.mp4" >
</video>

## å¦‚ä½•ä½¿ç”¨

#### sawWave(t, cycle)

> è¿”å›ç±»å‹ï¼šæ•°å€¼  
> å‚æ•°ç±»å‹ï¼štã€cycle æ˜¯æ•°å€¼ã€‚
> å½“ t é™¤ä»¥ cycle çš„ä½™æ•°ï¼Œ  
> ä» 0 å¢é•¿åˆ° cycle æ—¶ï¼Œè¾“å‡º 0 åˆ° 1

<br>

#### triWave(t, cycle)

> è¿”å›ç±»å‹ï¼šæ•°å€¼  
> å‚æ•°ç±»å‹ï¼štã€cycle æ˜¯æ•°å€¼ã€‚
>
> å½“ t é™¤ä»¥ cycle çš„ä½™æ•°ï¼Œ  
> ä» 0 å¢é•¿åˆ° cycle/2 æ—¶ï¼Œè¾“å‡º 0 åˆ° 1 ï¼›
>
> å½“ t é™¤ä»¥ cycle çš„ä½™æ•°ï¼Œ  
> ä» cycle/2 å¢é•¿åˆ° cycle/2 æ—¶ï¼Œè¾“å‡º 1 åˆ° 0 ï¼›

<!-- !( æ ‡è®° 0 1 t cycle çš„å‡½æ•°å›¾åƒ )[] -->

## åº”ç”¨æ¡ˆä¾‹

åˆ©ç”¨è¿™ä¸ªå‡½æ•°çš„è¡¨ç°å½¢å¼ï¼Œä¸ loopOut å‡½æ•°ä¸­çš„ type='cycle' å’Œ type='pingpong' ä¸€è‡´ï¼Œäºæ˜¯æœ‰äº†é¢„è®¾ <a href='../AfterEffectsPresets/?browsing=yiu_loop'>â€˜yiu_loopâ€™</a> å’Œ <a  href='../AfterEffectsPresets/?browsing=yiu_loop'>â€˜yiu_loopAutoâ€™</a>

<img class='shadow'  src='https://leizingyiu.github.io/AfterEffectsPresets/yiu_loop/img/leizingyiu_0705_AE_loop_header.jpg'/><br/>
<img class='shadow' width='49%' src='https://leizingyiu.github.io/AfterEffectsPresets/yiu_loop/img/leizingyiu_0705_AE_loop_06.gif' >
<img class='shadow' width='49%' src='https://leizingyiu.github.io/AfterEffectsPresets/yiu_loop/img/leizingyiu_0705_AE_loop_07.gif' >

## ä¸ sin å‡½æ•°çš„å›¾åƒåŒ–å¯¹æ¯”

<video width="100%"  controls="controls" autoplay="autoplay" loop="loop"  muted src="../orginalExpressions/video/triWaveAndSawWave_1.webm" >
<source src="../orginalExpressions/video/triWaveAndSawWave_1.mp4" >
<source src="../orginalExpressions/video/triWaveAndSawWave_1.webm" >
</video>

###### Math.sin(x\*Ï€) ,ç­‰ä»·äº

```
y=Math.sin(x/2*Math.PI*2)
```

<img src="../orginalExpressions/img/Math.sin_functionImage.svg" width="100%" alt="y=Math.sin(x/2*Math.PI*2)">

<hr><br>

###### sawWave(x,1) ,ç­‰ä»·äº

```
y=(((x % 1) + 1) % 1) / 1
```

<img src="../orginalExpressions/img/sawWave_functionImage.svg" width="100%" alt="y=(((x % 1) + 1) % 1) / 1">

<hr><br>

###### triWave(x,1) ,ç­‰ä»·äº

```
y = 1 - Math.abs((((x % 1) + 1) % 1) - 1 / 2) / (1 / 2)
```

<img src="../orginalExpressions/img/triWave_functionImage.svg" width="100%" alt="y = 1 - Math.abs((((x % 1) + 1) % 1) - 1 / 2) / (1 / 2)">

## è¡¨è¾¾å¼è¯´æ˜ <sub style='font-weight:100;'>æ•°å­¦è¯¾æ—¶é—´</sub>

### sawWave(t, cycle)

###### step 1ï¼šæ­£æ¯”ä¾‹å‡½æ•°ï¼ˆy=xï¼‰

```javascript
t = time;
t;
```

<img src="../orginalExpressions/img/sawWave_buildProcess_1.png" width='80%' alt='step 1ï¼šæ­£æ¯”ä¾‹å‡½æ•°ï¼ˆy=xï¼‰' >

###### step 2ï¼šæ­£æ¯”ä¾‹å‡½æ•°ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸Šåç§»ï¼ˆy=x-1ï¼‰

```javascript
t = time - 1;
t;
```

<img src="../orginalExpressions/img/sawWave_buildProcess_2.png" width='80%' alt="step 2ï¼šæ­£æ¯”ä¾‹å‡½æ•°ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸Šåç§»ï¼ˆy=x-1ï¼‰">

###### step 3ï¼šæ±‚ä½™æ•°ï¼Œc=a%bï¼Œc=a é™¤ä»¥ b å‰©ä¸‹çš„ä½™æ•°

```javascript
t = time - 1;
a = 0.5;
t % a;
```

<img src="../orginalExpressions/img/sawWave_buildProcess_3.png" width='80%' alt="step 3ï¼šæ±‚ä½™æ•°ï¼Œc=a%bï¼Œc=a é™¤ä»¥ b å‰©ä¸‹çš„ä½™æ•°" >

###### step 4ï¼šæ±‚ä½™ç»“æœæ•´ä½“å‘ä¸Šç§»åŠ¨

```javascript
t = time - 1;
a = 0.5;
(t % a) + a;
```

<img src="../orginalExpressions/img/sawWave_buildProcess_4.png" width='80%' alt="step 4ï¼šæ±‚ä½™ç»“æœæ•´ä½“å‘ä¸Šç§»åŠ¨" >

###### step 5ï¼šå†æ¬¡æ±‚ä½™ï¼Œæ­¤æ—¶å¾—åˆ°ç»“æœå…¨éƒ¨ä¸ºæ­£æ•°ã€‚

```javascript
t = time - 1;
a = 0.5;
((t % a) + a) % a;
```

<img src="../orginalExpressions/img/sawWave_buildProcess_5.png" width='80%' alt="step 5ï¼šå†æ¬¡æ±‚ä½™ï¼Œæ­¤æ—¶å¾—åˆ°ç»“æœå…¨éƒ¨ä¸ºæ­£æ•°ã€‚">

###### step 6ï¼šå°†æ•´ä½“è°ƒæ•´åˆ° 0 åˆ° 1 ä¹‹é—´ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚

```javascript
t = time - 1;
a = 0.5;
(((t % a) + a) % a) / a;
```

<img src="../orginalExpressions/img/sawWave_buildProcess_6.png" width='80%' alt="step 6ï¼šå°†æ•´ä½“è°ƒæ•´åˆ° 0 åˆ° 1 ä¹‹é—´ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚" >

###### æ•´ç†ï¼š

```javascript
function sawWave(t, cycle) {
  return (((t % cycle) + cycle) % cycle) / cycle; //by leizingyiu
}
sawWave(time, 1);
```

<img src="../orginalExpressions/img/sawWave_buildProcess_7.png" width='80%' alt="æ•´ç†">
</br></br></br>

### triWave(t, cycle)

###### step 1ï¼šæ­£æ¯”ä¾‹å‡½æ•°

```javascript
t = time - 1;
t;
```

<img src="../orginalExpressions/img/triWave_buildProcess_1.png" width='80%' alt="step 1ï¼šæ­£æ¯”ä¾‹å‡½æ•°">

###### step 2ï¼šæ±‚ä½™

```javascript
t = time - 1;
a = 0.5;
t % a;
```

<img src="../orginalExpressions/img/triWave_buildProcess_2.png" width='80%' alt="step 2ï¼šæ±‚ä½™">

###### step 3ï¼šæ•´ä½“å‘ä¸Šç§»åŠ¨

```javascript
t = time - 1;
a = 0.5;
(t % a) + a;
```

<img src="../orginalExpressions/img/triWave_buildProcess_3.png" width='80%' alt="step 3ï¼šæ•´ä½“å‘ä¸Šç§»åŠ¨">

###### step 4ï¼šå†æ¬¡æ±‚ä½™

```javascript
t = time - 1;
a = 0.5;
((t % a) + a) % a;
```

<img src="../orginalExpressions/img/triWave_buildProcess_4.png" width='80%' alt="step 4ï¼šå†æ¬¡æ±‚ä½™">

###### step 5ï¼šæ•´ä½“å‘ä¸‹ç§»åŠ¨ä¸€åŠ

```javascript
t = time - 1;
a = 0.5;
(((t % a) + a) % a) - a / 2;
```

<img src="../orginalExpressions/img/triWave_buildProcess_5.png" width='80%' alt="step 5ï¼šæ•´ä½“å‘ä¸‹ç§»åŠ¨ä¸€åŠ">

###### step 6ï¼šå…¨éƒ¨è¿›è¡Œç»å¯¹å€¼è¿ç®—

```javascript
t = time - 1;
a = 0.5;
Math.abs((((t % a) + a) % a) - a / 2);
```

<img src="../orginalExpressions/img/triWave_buildProcess_6.png" width='80%' alt="step 6ï¼šå…¨éƒ¨è¿›è¡Œç»å¯¹å€¼è¿ç®—">

###### step 7ï¼šè°ƒæ•´åˆ° 0 åˆ° 1 ä¹‹é—´

```javascript
t = time - 1;
a = 0.5;
Math.abs((((t % a) + a) % a) - a / 2) / (a / 2);
```

<img src="../orginalExpressions/img/triWave_buildProcess_7.png" width='80%' alt="step 7ï¼šè°ƒæ•´åˆ° 0 åˆ° 1 ä¹‹é—´">

###### step 8ï¼šæ±‚ä¸ 1 çš„å·®ï¼Œä½¿ t ç­‰äº 0 çš„æ—¶å€™ï¼Œè¾“å‡º 0

```javascript
t = time - 1;
a = 0.5;
1 - Math.abs((((t % a) + a) % a) - a / 2) / (a / 2);
```

<img src="../orginalExpressions/img/triWave_buildProcess_8.png" width='80%' alt="step 8ï¼šæ±‚ä¸ 1 çš„å·®ï¼Œä½¿ t ç­‰äº 0 çš„æ—¶å€™ï¼Œè¾“å‡º 0">

###### æ•´ç†ï¼š

```javascript
function triWave(t, cycle) {
  return (
    1 - Math.abs((((t % cycle) + cycle) % cycle) - cycle / 2) / (cycle / 2)
  ); //by leizingyiu
}
triWave(time, 1);
```

<img src="../orginalExpressions/img/triWave_buildProcess_9.png" width='80%' alt="æ•´ç†">

<br><br><br><br>
